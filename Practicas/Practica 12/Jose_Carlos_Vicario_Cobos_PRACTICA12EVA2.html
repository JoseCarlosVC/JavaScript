<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Propagación de eventos</title>
    <style>
        div {
            position: fixed;
            left: 0;
            top: 0;
            height: 50%;
            width: 50%;
            background-color: white;
            border: 1px solid black;
        }
    </style>
</head>

<body>
    <div>
    </div>
    <script>
        //Referenciamos los tres elementos
        let capa = document.querySelector("div");
        /*Les asignamos los listeners avisando cuando se pulse
        cada elemento*/
        capa.addEventListener("mouseover", () => {
            capa.style.backgroundColor = "green";
        });

        capa.addEventListener("mousedown", function (ev) {
            if (ev.button == 2) {
                capa.style.backgroundColor = "blue";
            } else if (ev.button == 0) {
                capa.style.backgroundColor = "red";
            }
        });
        //Al levantar el click, volvemos al color verde
        capa.addEventListener("mouseup", () => {
            capa.style.backgroundColor = "green";
        });
        //El evento contextmenu controla el menú contextual; añadimos prevent default para evitar que se abra
        document.addEventListener("contextmenu", function (ev) {
            ev.preventDefault();
        })
    </script>
</body>

</html>